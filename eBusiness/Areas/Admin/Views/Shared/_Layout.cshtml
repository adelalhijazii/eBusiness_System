@using System.Security.Claims

@{
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    var pagesControllers = new[] {
                "MasterAboutUs", "MasterAdvancedCapabilities", "MasterContactUsInformation",
                "MasterMenu", "MasterPricing", "MasterQuestions",
                "MasterSocialMedium", "MasterTeam", "MasterUsefullLinks",
                "MasterFocus", "MasterWhyUs", "MasterTransformingData", "SystemSetting"
                };

    var advancedControllers = new[] {
                "MasterPartner", "MasterFeature", "MasterFeatures", "MasterService", "MasterServices",
                "MasterOurServices", "MasterPortfolioCategoryMenu", "MasterPortfolioItemMenu"
                };

    var transactionControllers = new[] {
                "TransactionContactUs", "TransactionNewsLetter"
                };

    var isPagesOpen = pagesControllers.Contains(currentController);
    var isAdvancedOpen = advancedControllers.Contains(currentController);
    var isTransactionOpen = transactionControllers.Contains(currentController);

    var userId = User.FindFirstValue(ClaimTypes.NameIdentifier);
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Responsive Bootstrap 5 Admin &amp; Dashboard Template">
    <meta name="author" content="Bootlab">

    <title>@ViewBag.Title - eBusiness</title>

    <link href="~/twitter-bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="shortcut icon" href="~/Admin/assets/img/favicon.ico">
    <link class="js-stylesheet" href="~/Admin/assets/css/light.css" rel="stylesheet">
    <link href="~/admin/assets/csscommon/stylecommon.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&amp;display=swap" rel="stylesheet">

    <script src="~/jquery/jquery.js"></script>
    <script src="~/jquery-validate/jquery.validate.js"></script>
    <script src="~/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
</head>
<body data-theme="default" data-layout="fluid" data-sidebar-position="left" data-sidebar-behavior="sticky">
    <div class="wrapper">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-content js-simplebar">
                <a class="sidebar-brand" href="#">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
                    <path d="M19.4,4.1l-9-4C10.1,0,9.9,0,9.6,0.1l-9,4C0.2,4.2,0,4.6,0,5s0.2,0.8,0.6,0.9l9,4C9.7,10,9.9,10,10,10s0.3,0,0.4-0.1l9-4
              C19.8,5.8,20,5.4,20,5S19.8,4.2,19.4,4.1z" />
                    <path d="M10,15c-0.1,0-0.3,0-0.4-0.1l-9-4c-0.5-0.2-0.7-0.8-0.5-1.3c0.2-0.5,0.8-0.7,1.3-0.5l8.6,3.8l8.6-3.8c0.5-0.2,1.1,0,1.3,0.5
              c0.2,0.5,0,1.1-0.5,1.3l-9,4C10.3,15,10.1,15,10,15z" />
                    <path d="M10,20c-0.1,0-0.3,0-0.4-0.1l-9-4c-0.5-0.2-0.7-0.8-0.5-1.3c0.2-0.5,0.8-0.7,1.3-0.5l8.6,3.8l8.6-3.8c0.5-0.2,1.1,0,1.3,0.5
              c0.2,0.5,0,1.1-0.5,1.3l-9,4C10.3,20,10.1,20,10,20z" />
          </svg>

                    <span class="align-middle me-3">eBusiness</span>
                </a>

                <ul class="sidebar-nav">
                    <li class="sidebar-header">
                        Pages
                    </li>

                    <li class="sidebar-item">
                        <a data-bs-target="#Pages" data-bs-toggle="collapse" class="sidebar-link @(isPagesOpen ? "" : "collapsed")">
                            <i class="align-middle" data-feather="chevrons-right"></i> <span class="align-middle">Pages</span>
                        </a>
                        <ul id="Pages" class="sidebar-dropdown list-unstyled collapse @(isPagesOpen ? "show" : "")" data-bs-parent="#sidebar">
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterAboutUs" ? "active" : "")" asp-action="Index" asp-controller="MasterAboutUs">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterAboutUs" ? "fa-circle" : "fa-circle-notch")"></i> About Us
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterAdvancedCapabilities" ? "active" : "")" asp-action="Index" asp-controller="MasterAdvancedCapabilities">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterAdvancedCapabilities" ? "fa-circle" : "fa-circle-notch")"></i> Advance Capability
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterContactUsInformation" ? "active" : "")" asp-action="Index" asp-controller="MasterContactUsInformation">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterContactUsInformation" ? "fa-circle" : "fa-circle-notch")"></i> Contact Us
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterFocus" ? "active" : "")" asp-action="Index" asp-controller="MasterFocus">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterFocus" ? "fa-circle" : "fa-circle-notch")"></i> Focus
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterMenu" ? "active" : "")" asp-action="Index" asp-controller="MasterMenu">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterMenu" ? "fa-circle" : "fa-circle-notch")"></i> Menu
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterPricing" ? "active" : "")" asp-action="Index" asp-controller="MasterPricing">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterPricing" ? "fa-circle" : "fa-circle-notch")"></i> Pricing
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterQuestions" ? "active" : "")" asp-action="Index" asp-controller="MasterQuestions">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterQuestions" ? "fa-circle" : "fa-circle-notch")"></i> Questions
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterSocialMedium" ? "active" : "")" asp-action="Index" asp-controller="MasterSocialMedium">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterSocialMedium" ? "fa-circle" : "fa-circle-notch")"></i> Social Medium
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterTeam" ? "active" : "")" asp-action="Index" asp-controller="MasterTeam">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterTeam" ? "fa-circle" : "fa-circle-notch")"></i> Team
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterUsefullLinks" ? "active" : "")" asp-action="Index" asp-controller="MasterUsefullLinks">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterUsefullLinks" ? "fa-circle" : "fa-circle-notch")"></i> Usefull Links
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterWhyUs" ? "active" : "")" asp-action="Index" asp-controller="MasterWhyUs">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterWhyUs" ? "fa-circle" : "fa-circle-notch")"></i> Why Us
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterTransformingData" ? "active" : "")" asp-action="Index" asp-controller="MasterTransformingData">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterTransformingData" ? "fa-circle" : "fa-circle-notch")"></i> Transforming Data
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "SystemSetting" ? "active" : "")" asp-action="Index" asp-controller="SystemSetting">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "SystemSetting" ? "fa-circle" : "fa-circle-notch")"></i> System Setting
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="sidebar-item">
                        <a data-bs-target="#Advanced" data-bs-toggle="collapse" class="sidebar-link @(isAdvancedOpen ? "" : "collapsed")">
                            <i class="align-middle" data-feather="chevrons-right"></i> <span class="align-middle">Advanced</span>
                        </a>
                        <ul id="Advanced" class="sidebar-dropdown list-unstyled collapse @(isAdvancedOpen ? "show" : "")" data-bs-parent="#sidebar">
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterPartner" ? "active" : "")" asp-action="Index" asp-controller="MasterPartner">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterPartner" ? "fa-circle" : "fa-circle-notch")"></i> Partner
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterFeature" ? "active" : "")" asp-action="Index" asp-controller="MasterFeature">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterFeature" ? "fa-circle" : "fa-circle-notch")"></i> Feature
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterFeatures" ? "active" : "")" asp-action="Index" asp-controller="MasterFeatures">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterFeatures" ? "fa-circle" : "fa-circle-notch")"></i> Features
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterService" ? "active" : "")" asp-action="Index" asp-controller="MasterService">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterService" ? "fa-circle" : "fa-circle-notch")"></i> Service
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterServices" ? "active" : "")" asp-action="Index" asp-controller="MasterServices">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterServices" ? "fa-circle" : "fa-circle-notch")"></i> Services
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterOurServices" ? "active" : "")" asp-action="Index" asp-controller="MasterOurServices">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterOurServices" ? "fa-circle" : "fa-circle-notch")"></i> Our Services
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterPortfolioItemMenu" ? "active" : "")" asp-action="Index" asp-controller="MasterPortfolioItemMenu">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterPortfolioItemMenu" ? "fa-circle" : "fa-circle-notch")"></i> Item Menu
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "MasterPortfolioCategoryMenu" ? "active" : "")" asp-action="Index" asp-controller="MasterPortfolioCategoryMenu">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "MasterPortfolioCategoryMenu" ? "fa-circle" : "fa-circle-notch")"></i> Category Menu
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="sidebar-item">
                        <a data-bs-target="#Transaction" data-bs-toggle="collapse" class="sidebar-link @(isTransactionOpen ? "" : "collapsed")">
                            <i class="align-middle" data-feather="chevrons-right"></i> <span class="align-middle">Transaction</span>
                        </a>
                        <ul id="Transaction" class="sidebar-dropdown list-unstyled collapse @(isTransactionOpen ? "show" : "")" data-bs-parent="#sidebar">
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "TransactionContactUs" ? "active" : "")" asp-action="Index" asp-controller="TransactionContactUs">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "TransactionContactUs" ? "fa-circle" : "fa-circle-notch")"></i> Contact Us
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a class="sidebar-link @(currentController == "TransactionNewsLetter" ? "active" : "")" asp-action="Index" asp-controller="TransactionNewsLetter">
                                    <i class="align-middle me-2 fas fa-fw @(currentController == "TransactionNewsLetter" ? "fa-circle" : "fa-circle-notch")"></i> News Letter
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="sidebar-header">
                        Account
                    </li>

                    <li class="sidebar-item">
                        <a class="sidebar-link @(currentController == "AppUser" ? "active appuser-active" : "")" asp-action="Index" asp-controller="AppUser">
                            <i class="align-middle" data-feather="users"></i> <span class="align-middle">Users</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="main">
            <nav class="navbar navbar-expand navbar-light navbar-bg">
                <a class="sidebar-toggle">
                    <i class="hamburger align-self-center"></i>
                </a>

                <div class="navbar-collapse collapse">
                    <ul class="navbar-nav navbar-align">
                        <li class="nav-item dropdown">
                            <a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-bs-toggle="dropdown">
                                <i class="align-middle" data-feather="settings"></i>
                            </a>

                            <a class="nav-link dropdown-toggle d-none d-sm-inline-block" href="#" data-bs-toggle="dropdown">
                                <img src="~/Admin/assets/img/avatars/avatar.jpg" class="avatar img-fluid rounded-circle me-1" alt="Chris Wood" /> <span class="text-dark">@User.Identity.Name</span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <a class="dropdown-item" asp-route-id="@userId" asp-action="Details" asp-controller="AppUser"><i class="align-middle me-1" data-feather="user"></i> Profile</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" asp-action="Help" asp-controller="AppUser">Help</a>
                                <a class="dropdown-item" asp-action="LogOut" asp-controller="Account">Sign out</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>

            <main class="content">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                @RenderBody()
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <footer class="footer">
                <div class="container-fluid">
                    <div class="row text-muted">
                        <div class="col-6 text-start">
                        </div>
                        <div class="col-6 text-end">
                            <p class="mb-0">
                                &copy; 2025 - <a href="#" class="text-muted">eBusiness</a>
                            </p>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script src="~/Admin/assets/js/app.js"></script>
    <script src="~/twitter-bootstrap/js/bootstrap.min.js"></script>
</body>
</html>
